---
layout: post
title:  "前端开发效率之SMock的故事"
date:   2018-11-08 14:32:00 +0800
author: "廖艳丽"
categories: liaoyanli
---

>是的，本文会给大家讲一个故事，故事跟前端开发效率有关，主人公是SMock。

### 时间（开发背景）
前阵子，我在领导的安排下，加入到某个项目做前端开发，接到来自产品的需求及项目经理针对前端的排期，得知该项目时间紧、业务复杂、任务重且只有我自己。一个人、两只手，没辙，只能提高自身效率。
“所以SMock来了”，这句话听起来像是某个同事来帮我了，并不是，它不是我的同事，而是一个工具。它是个有故事的角儿，请听我慢慢细述。
SMock诞生于当时的那种开发背景：
前后端分离的开发情况下，后端将接口文档给到前端，但是前后端并行开发的时候，后端的服务是并未开发完成的。那前端开发取不到真实的数据，就需要来模拟。我们可以选择用网络上的工具来创建模拟数据，但是大多数工具都需要手动去写入模拟数据，并且生成了网络请求路径，一个项目上百个接口还得一个一个去复制粘贴修改。还有的工具就是需要登录注册，甚至要连接数据库来保证数据的持久性，这一系列的操作都会让人心生敬畏，太麻烦，还可能有数据信息安全问题！
为了减少这个模拟数据的阶段开发成本，SMock的雏形诞生了。它需要解决的具体问题就是将模拟数据批量自动产生，并让这些模拟数据置于可访问的服务中，这样就解决了当前开发的一些症结，不需要手动书写模拟数据，不需要运用他人的平台服务。

### 人物（Swagger与SMock）
前面提到后端将接口文档给到前端，他们是以Swagger的文档形式提供给前端的。有人要问，Swagger是什么？
Swagger是SMock的好伙伴，SMock需要依赖于它。官方表示：Swagger 是一个规范和完整的框架，用于生成、描述、调用和可视化 RESTful 风格的 Web 服务。总体目标是使客户端和文件系统作为服务器以同样的速度来更新。文件的方法，参数和模型紧密集成到服务器端的代码，允许API来始终保持同步。可以用于接口文档的在线自动生成，还可用于功能测试。在和我们合作的后端部门中，我们常常会推荐他们使用Swagger。主要是太好用了，比硬生生编写的word文档要好很多，我专门列了一下它的优势。
1.可以随时同步后端人员的修改;
2.接口格式统一；
3.方便测试接口；
4.参数及参数规则清晰；
5.接口文档直观；
有了后端人员的Swagger文档，SMock便可以发挥它的作用了：分析Swagger文档数据，生成mock数据，启动mock服务。服务置于本地，不用担心数据泄露。如此，项目便可以快速的进行数据交互开发了。

### 事件（SMock理念）
前面的描述是不是还是不太知道SMock到底是个什么鬼？一句话概括下，SMock是基于Swagger的自动化mock数据平台。

### 地点（项目实战）
SMock最初是使用在京东大客户的某个项目中试水。当然也是出自于那个项目，是京东大客户的那些紧急需求促使了SMock的产生。后面组内的小伙伴们也纷纷开始使用于其他项目中。在一个大型的项目中，SMock在前端的开发可以起到很关键的作用，减少了很多mock的成本，提高人效。

### 后记（未来规划）
SMock虽然是起源于我个人一个想走捷径的念头，但是它后期的稳定及健壮将源自我们团队，并且已经由团队在共同协作维护及完善。后续我们还将会提供可用于webpack配置的插件，让用户的高效方式变得更多元化，同时还提供云端构建能力，让用户无需本地安装。同时还……不，不能再说了，不然透露的太多了。

### 广告硬植入
故事快讲完了，快快跟着我的脚步去试用起来吧，希望SMock可以让你的加班时长减少。
SMock相关详细使用手册可在官网查看，可使用npm安装到本地，源码是开源的。如果小伙伴们在使用过程中遇到问题或是有更好的建议可以跟我们联系。
Npm：[https://www.npmjs.com/package/jdcfe-smock](https://www.npmjs.com/package/jdcfe-smock)
GitHub: [https://github.com/jdf2e/SMock](https://github.com/jdf2e/SMock)
官网：[http://smock.jd.com](http://smock.jd.com)
